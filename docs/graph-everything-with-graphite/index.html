<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.80.0" />
  
  
  
  <title>
    
    Graph EVERYTHING with Graphite! | xkyle.com
    
  </title>
  <link rel="canonical" href="../graph-everything-with-graphite/">
  <link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
  <link rel="manifest" href="../site.webmanifest">
  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="../css/base.min.8024376f74e6e2fb66dfb9768383c16d4275793d39e317e929b52533f51faa2e.css" integrity="sha256-gCQ3b3Tm4vtm37l2g4PBbUJ1eT054xfpKbUlM/Ufqi4=" crossorigin="anonymous">
  
  
</head>
<body>
  <nav class="u-background">
  <div class="u-wrapper">
    <ul class="Banner">
      <li class="Banner-item Banner-item--title">
        <a class="Banner-link u-clickable" href="">xkyle.com</a>
      </li>
      
      <li class="Banner-item">
        <a class="Banner-link u-clickable" href="../about/">About</a>
      </li>
      
      <li class="Banner-item">
        <a class="Banner-link u-clickable" href="../post/">Posts</a>
      </li>
      
      <li class="Banner-item">
        <a class="Banner-link u-clickable" href="../categories/">Categories</a>
      </li>
      
      <li class="Banner-item">
        <a class="Banner-link u-clickable" href="../subscribe.html">Subscribe</a>
      </li>
      
      <li class="Banner-item">
        <a class="Banner-link u-clickable" href="../"></a>
      </li>
      
      <li class="Banner-item">
<form action="https://www.google.com/search" class="Banner-link u-clickable" method="get" name="searchform" target="_blank">
<input name="sitesearch" type="hidden" value="xkyle.com">
<input autocomplete="on" class="form-control search2" name="q" placeholder="Search" required="required"  type="text" style="width: 50px;">
<button class="button" type="submit" style="width:1px;text-align: center;border-right-width: 20px;border-right-style: solid;height: 34px;">üîç</button>
</form>
      </li>
  </div>
</nav>

  <main>
    <div class="u-wrapper">
      <div class="u-padding">
        

<article>
  <header class="Heading">
  <h2 class="Heading-title">
    <a class="Heading-link u-clickable" href="../graph-everything-with-graphite/" rel="bookmark">Graph EVERYTHING with Graphite!</a>
  </h2>
  
  <time datetime="2012-04-29T19:46:17Z">
    29 April, 2012
  </time>
  
</header>

  <blockquote>
<p><strong>I¬†believe¬†that a¬†graphing¬†tool should be flexible enough for the user to decide what metrics are important to their¬†environment, and it should be able to accept metric data from any source.</strong></p>
</blockquote>
<p>There are pretty good graphing tools out there for the Linux engineer: <a href="http://munin-monitoring.org/">Munin</a>, <a href="http://munin-monitoring.org/">Ganglia</a>, <a href="http://www.cacti.net/">Cacti</a>, <a href="http://www.zabbix.com/">Zabbix</a>, <a href="http://collectd.org/">Collectd</a>, etc.</p>
<p>I call these &ldquo;graphing&rdquo; tools, because I don&rsquo;t consider them &ldquo;monitoring&rdquo; tools, like Nagios, WhatsUp, or Zabbix. Here is are my thoughts on graphing/monitoring:</p>
<p>Graphing
Monitoring</p>
<ul>
<li>
<p>Shows trends over time</p>
</li>
<li>
<p>Contains <strong>historic</strong> data</p>
</li>
<li>
<p>Post-event¬†analytics</p>
</li>
<li>
<p><strong>Performance</strong> trends</p>
</li>
<li>
<p>More Dev&rsquo;y?</p>
</li>
<li>
<p>&ldquo;Will run out of disk space in 3 days&rdquo;</p>
</li>
<li>
<p>&ldquo;Ldap queries¬†up 200% in 6 months&rdquo;</p>
</li>
<li>
<p><a href="../uploads/graphite_fullscreen_800.png"><img src="../uploads/graphite_fullscreen_800.png" alt=""></a></p>
</li>
<li>
<p>Alerts when thresholds are crossed</p>
</li>
<li>
<p>States are definite: Ok/Bad/Warning</p>
</li>
<li>
<p>Notifications are <strong>actionable</strong></p>
</li>
<li>
<p>Makes events</p>
</li>
<li>
<p>More Ops&rsquo;y?</p>
</li>
<li>
<p>&ldquo;OMG OUT OF SPACE&rdquo;</p>
</li>
<li>
<p>&ldquo;LDAP IS DOWN&rdquo;</p>
</li>
<li>
<p><a href="../uploads/nagios.png"><img src="../uploads/nagios.png" alt=""></a></p>
</li>
</ul>
<p>Any good engineer knows you need both functions. Zabbix, WhatsUp, and some others handle both functions. Splunk can do threshold detection and make graphs too, but it ain&rsquo;t no Nagios. Personally I like tools that<a href="http://en.wikipedia.org/wiki/Unix_philosophy"> do one thing, and one thing well</a>. I am not after some sort of monitoring super-tool, and I don&rsquo;t believe that #monitoringsucks.</p>
<h1 id="what-makes-graphite-awesome">¬†What Makes Graphite Awesome</h1>
<h3 id="1-so-many-ways-to-get-data-into-it">1: So many ways to get data into it</h3>
<p>Graphite does <strong>not</strong> have any kind of polling daemon. It just accepts incoming metrics, it is up to you how you want to get them there, and what to call them. It enforces no naming convention. All it needs you to do is echo your metricname, value into tcp port 2003, it does the rest.</p>
<p>Ways you can get data into Graphite:</p>
<ul>
<li>
<p>Push or pull from your <a href="https://github.com/adamhjk/munin-graphite">munin-nodes</a></p>
</li>
<li>
<p>Pull from your existing <a href="https://github.com/ganglia/ganglia_contrib/tree/master/graphite_integration/">Ganglia</a> install</p>
</li>
<li>
<p>Integrate sending metrics directly into your application with <a href="https://github.com/etsy/statsd/tree/master/examples">statsd</a></p>
</li>
<li>
<p><code>echo``&quot;mycoolmetric.rate ¬†9000 </code>date +%s<code>&quot;``|nc graphite.server 2003</code></p>
</li>
<li>
<p>Extract metrics from your log files with <a href="https://github.com/etsy/logster">logster</a></p>
</li>
<li>
<p><a href="http://graphite.readthedocs.org/en/1.0/tools.html">This list goes on</a>.</p>
</li>
</ul>
<h3 id="2-the-only-limit-to-visualizing-your-data-is-your-imagination">2. The only limit to visualizing your data is your imagination</h3>
<p>Unlike other graphing systems where the style of the graph is pre-determined, Graphite also does not enforce any kind of convention for making its graphs. It is more like a graph api. Composing your graphs is a manual process, and requires a bit of creativity.</p>
<p>Graphite does <strong>not</strong> present the user with pages and pages of pre-rendered graphs like Ganglia, Munin, etc.</p>
<p>What kind of graphs can you make with Graphite? Lets see some cool examples:</p>
<p><a href="http://codeascraft.etsy.com/2010/12/08/track-every-release/">Etsy&rsquo;s</a> php warnings correlated with code deploys:
<img src="http://etsycodeascraft.files.wordpress.com/2010/12/warnings_1hr_deploys3.png" alt=""></p>
<p>My cool stacked latency graph:<a href="../uploads/graphite-latency.png"><img src="../uploads/graphite-latency.png" alt=""></a></p>
<p>Filtering out <a href="http://obfuscurity.com/2012/04/Unhelpful-Graphite-Tip-6">deviant server loads</a>:¬†<a href="../uploads/graphite-load.png">
<img src="../uploads/graphite-load.png" alt=""></a></p>
<p>You can see that graphite fits my initial¬†principles. It can suck in metrics from anywhere, and create graphs to fit your imagination. Combine this with a crazy amount of <a href="http://graphite.readthedocs.org/en/1.0/functions.html">functions</a>¬†that you can apply to your metrics, the sky is the limit!</p>
<p>Cool graphs for you to make:</p>
<ul>
<li>
<p>Ratio of shopping cart items to unique visitors?</p>
</li>
<li>
<p>Overlay your average page load time with your code deploys?</p>
</li>
<li>
<p>Graph your average rate of change of your storage?</p>
</li>
<li>
<p>Plot the <a href="http://obfuscurity.com/2012/04/Unhelpful-Graphite-Tip-1">mortality rate of your EC2 Instances</a>?</p>
</li>
</ul>
<p>More Reading:</p>
<ul>
<li>
<p><a href="http://obfuscurity.com/Tags/Graphite">¬†Lots of graphite tips</a></p>
</li>
<li>
<p>My <a href="https://wiki.xkyle.com/Graphite">Graphite notes</a></p>
</li>
<li>
<p>How to install graphite <a href="https://github.com/dcarley/graphite-rpms">via RPMS</a></p>
</li>
</ul>

  






<footer>
  
  
  <ul class="Tags">
    
    
    <li class="Tags-item u-background">
      <a class="Tags-link u-clickable" href="../categories/devops/" rel="tag">devops</a>
    </li>
    
    
    
    <li class="Tags-item u-background">
      <a class="Tags-link u-clickable" href="../categories/ganglia/" rel="tag">ganglia</a>
    </li>
    
    
    
    <li class="Tags-item u-background">
      <a class="Tags-link u-clickable" href="../categories/graphite/" rel="tag">graphite</a>
    </li>
    
    
    
    <li class="Tags-item u-background">
      <a class="Tags-link u-clickable" href="../categories/metrics/" rel="tag">metrics</a>
    </li>
    
    
    
    <li class="Tags-item u-background">
      <a class="Tags-link u-clickable" href="../categories/monitoring/" rel="tag">monitoring</a>
    </li>
    
    
    
    <li class="Tags-item u-background">
      <a class="Tags-link u-clickable" href="../categories/munin/" rel="tag">munin</a>
    </li>
    
    
  </ul>
  
  
  
  
</footer>


  



</article>


      </div>
    </div>
  </main>
  

</body>
</html>
